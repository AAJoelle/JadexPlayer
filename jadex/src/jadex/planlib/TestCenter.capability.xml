<!--
  <h3>Test center capability</h3>

  The Test center capability is the generic functionality
  for a test center. Only the abstract testcases belief set
  has to be provided from an actual test center agent.
-->
<capability xmlns="http://jadex.sourceforge.net/jadex"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://jadex.sourceforge.net/jadex
	                    http://jadex.sourceforge.net/jadex-0.96.xsd"
	package="jadex.planlib"
	name="TestCenter">

		<imports>
			<import>jadex.adapter.fipa.*</import>
		</imports>

		<capabilities>
			<capability name="amscap" file="jadex.planlib.AMS"/>
		</capabilities>

		<beliefs>
			<belief name="timeout" class="long" exported="true">
				<fact>20000</fact>
			</belief>
		</beliefs>

		<goals>
			<performgoal name="perform_tests" exported="true">
				<parameterset name="testcases" class="Testcase"/>
			</performgoal>
			<performgoal name="perform_test" exported="true">
				<parameter name="testcase" class="Testcase" direction="inout" />
			</performgoal>
			<achievegoalref name="ams_create_agent">
				<concrete ref="amscap.ams_create_agent"/>
			</achievegoalref>
			<achievegoalref name="ams_start_agent">
				<concrete ref="amscap.ams_start_agent"/>
			</achievegoalref>
			<achievegoalref name="ams_destroy_agent">
				<concrete ref="amscap.ams_destroy_agent"/>
			</achievegoalref>
		</goals>

		<plans>
			<plan name="perform_tests_plan">
				<parameterset name="testcases" class="Testcase">
					<goalmapping ref="perform_tests.testcases"/>
				</parameterset>
				<body class="PerformTestsPlan" />
				<!-- <body>new PerformTestsPlan()</body> -->
				<trigger>
					<goal ref="perform_tests"/>
				</trigger>
			</plan>
			<plan name="perform_test_plan">
				<parameter name="testcase" class="Testcase">
					<goalmapping ref="perform_test.testcase"/>
				</parameter>
				<body class="PerformTestPlan" />
				<!-- <body>new PerformTestPlan()</body> -->
				<trigger>
					<goal ref="perform_test"/>
				</trigger>
			</plan>
		</plans>

		<events>
			<!--  The inform reports message event. -->
			<messageevent name="inform_reports" type="fipa" exported="true" direction="receive">
				<parameter name="performative" class="String" direction="fixed">
					<value>SFipa.INFORM</value>
				</parameter>
				<parameter name="language" class="String" direction="fixed">
					<value>SFipa.NUGGETS_XML</value>
				 </parameter>
				<parameter name="content-class" class="Class" direction="fixed">
					<value>Testcase.class</value>
				</parameter>
			</messageevent>
		</events>

</capability>
