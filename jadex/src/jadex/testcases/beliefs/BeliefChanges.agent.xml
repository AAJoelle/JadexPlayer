<!--
	<H3>Test belief changes.</H3>
<pre>
Test three kinds of belief changes.
1. belief.setFact()
   should only trigger when different value is assigned
2. bean property changes of a fact
   should always trigger a belief change
3. a dependent belief is affected by the change of another belief
   should only trigger when the value of the dependent belief changes
</pre>
-->
<agent xmlns="http://jadex.sourceforge.net/jadex"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://jadex.sourceforge.net/jadex
	                    http://jadex.sourceforge.net/jadex-0.96.xsd"
	name="BeliefChanges"
	package="jadex.testcases.beliefs">

	<imports>
		<import>jadex.testcases.*</import>
	</imports>

	<capabilities>
		<capability name="testcap" file="jadex.planlib.Test"/>
	</capabilities>

	<beliefs>
		<beliefsetref name="reports">
			<concrete ref="testcap.reports"/>
		</beliefsetref>
		<beliefref name="testcase_cnt" class="int">
			<concrete ref="testcap.testcase_cnt"/>
		</beliefref>
		<beliefref name="timeout" class="long" exported="true">
			<concrete ref="testcap.timeout"/>
		</beliefref>
		<beliefref name="testcenter" class="jadex.adapter.fipa.AgentIdentifier" exported="true">
			<concrete ref="testcap.testcenter"/>
		</beliefref>
		
		<belief name="bel_a" class="String">
			<fact>"Test"</fact>
		</belief>
		<belief name="bel_b" class="int">
			<fact evaluationmode="dynamic">$beliefbase.bel_a.length()</fact>
		</belief>
		<belief name="bel_c" class="TestBean">
 			<fact>new TestBean("Test")</fact>
		</belief>
		<belief name="plan_a_executed" class="int"/>
		<belief name="plan_b_executed" class="int"/>
		<belief name="plan_c_executed" class="int"/>
	</beliefs>

	<plans>
		<plan name="belchanger">
			<body class="BeliefChangesPlan"/>
			<!-- <body>new BeliefChangesPlan()</body> -->
		</plan>
		<plan name="a_changed">
			<body>new BeliefIncrementPlan("plan_a_executed")</body>
			<trigger>
				<beliefchange ref="bel_a"/>
			</trigger>
		</plan>
		<plan name="b_changed">
			<body>new BeliefIncrementPlan("plan_b_executed")</body>
			<trigger>
				<beliefchange ref="bel_b"/>
			</trigger>
		</plan>
		<plan name="c_changed">
			<body>new BeliefIncrementPlan("plan_c_executed")</body>
			<trigger>
				<beliefchange ref="bel_c"/>
			</trigger>
		</plan>
	</plans>

	<properties>
        <!--<property name="debugging">true</property>-->
        <!--<property name="logging.level">java.util.logging.Level.FINE</property>-->
        <property name="logging.useParentHandlers">true</property>
    </properties>

	<configurations>
		<configuration name="default">
			<beliefs>
				<initialbelief ref="testcase_cnt">
					<fact>4</fact>
				</initialbelief>
			</beliefs>
			<plans>
				<initialplan ref="belchanger"/>
			</plans>
		</configuration>
	</configurations>

</agent>

