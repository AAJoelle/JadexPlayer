<!--
	<H3>This agent tests plan priorities.</H3>

	The default meta-level reasoner uses plan priorities
	to determine, which candidates are scheduled for
	execution.
	In this example an initial goal is created for which
	all of the declared plans are applicable. The plans
	print out some message and fail.
	Because the bdi-flag exclude is (per default) set
	the three plans are subsequently invoked.
-->

<agent xmlns="http://jadex.sourceforge.net/jadex"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://jadex.sourceforge.net/jadex 
	                    http://jadex.sourceforge.net/jadex-0.96.xsd"
	name="PlanPriorities"
	package="jadex.testcases.plans">

	<imports>
		<import>jadex.testcases.*</import>
		<import>jadex.planlib.TestReport</import>
	</imports>

	<capabilities>
		<capability name="testcap" file="jadex.planlib.Test"/>
	</capabilities>

	<beliefs>
		<beliefsetref name="reports" class="TestReport">
			<concrete ref="testcap.reports"/>
		</beliefsetref>
		<beliefref name="timeout" class="long" exported="true">
			<concrete ref="testcap.timeout"/>
		</beliefref>
		<beliefref name="testcenter" class="jadex.adapter.fipa.AgentIdentifier" exported="true">
			<concrete ref="testcap.testcenter"/>
		</beliefref>
		<beliefset name="results" class="Integer"/>
	</beliefs>

	<goals>
		<achievegoal name="test"/>
	</goals>
	
	<plans>
		<plan name="zero" priority="0">
			<body>new ResultPlan(true, new Integer(0), "results")</body>
			<trigger>
				<goal ref="test"/>
			</trigger>
		</plan>
		<plan name="two" priority="2">
			<body>new ResultPlan(false, new Integer(2), "results")</body>
			<trigger>
				<goal ref="test"/>
			</trigger>
		</plan>
		<plan name="one" priority="1">
			<body>new ResultPlan(false, new Integer(1), "results")</body>
			<trigger>
				<goal ref="test"/>
			</trigger>
		</plan>
		<plan name="tester">
			<body>new PlanPrioritiesTesterPlan()</body>
		</plan>
	</plans>

	<configurations>
		<configuration name="default">
			<plans>
				<initialplan ref="tester"/>
			</plans>
		</configuration>
	</configurations>

</agent>

