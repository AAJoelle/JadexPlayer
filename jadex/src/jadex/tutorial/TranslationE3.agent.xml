<!--
	<H3>TranslationAgent: Lesson E3.</H3>
	Using a maintain goal.
	<H4>Explanation</H4>
	The agent defines a maintain goal, that monitors
	the number of entries in the dictionary and reduces
	the number of entries whenever the maximum is exceeded.
-->
<agent xmlns="http://jadex.sourceforge.net/jadex"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://jadex.sourceforge.net/jadex 
	                    http://jadex.sourceforge.net/jadex-0.96.xsd"
	name="TranslationE3"
	package="jadex.tutorial">

	<imports>
		<import>java.util.logging.*</import>
	</imports>

	<capabilities>
		<!-- Include the translation capability under the name transcap. -->
		<capability name="transcap" file="TranslationD2"/>
	</capabilities>

	<beliefs>
		<!-- This beliefset contains the english-german dictionary as facts. -->
		<beliefsetref name="egwords">
			<concrete ref="transcap.egwords" />
		</beliefsetref>
		<!-- This belief specifies the maximum number of
			entries in the english-german dictionary. -->
		<belief name="maxstorage" class="int">
			<fact>8</fact>
		</belief>
	</beliefs>

	<goals>
		<!-- Goal type to keep the number of entries in the dictionary
			below some threshold given by the belief maxstorage. -->
		<maintaingoal name="keepstorage" exclude="when_failed">
			<maintaincondition>
				$beliefbase.egwords.length &lt;= $beliefbase.maxstorage
 			</maintaincondition>
		</maintaingoal>
	</goals>

	<plans>
		<!-- Passive plan for removing a word pair from the dictionary.
 			Reacts on the keep storage goal. -->
		<plan name="remegword">
			<body>new RemoveWordPlanE3("egwords")</body>
			<trigger>
				<goal ref="keepstorage"/>
			</trigger>
			<precondition>$beliefbase.egwords.length &gt; 0</precondition>
		</plan>
	</plans>

	<properties>
 		<!-- Only log outputs >= level are printed. -->
       <property name="logging.level">Level.INFO</property>
 		<!-- The default parent handler prints out log messages on the console. -->
       <property name="logging.useParentHandlers">true</property>
    </properties>

	<configurations>
		<configuration name="default">
			<goals>
				<initialgoal ref="keepstorage"/>
			</goals>
		</configuration>
	</configurations>

</agent>

